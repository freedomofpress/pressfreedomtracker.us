.header
	margin-top: $header-margin-top
	margin-bottom: $header-margin-top * 2
	display: flex
	flex-direction: row
	justify-content: space-between
	align-items: center
	height: $header-height

	@media(max-width: $medium-large-screen)
		height: $header-height-medium-large

	@media (max-width: $small-screen)
		margin-top: 0
		// This height should match the SVG logo height so that
		// extra background in $header-color is not displayed.
		height: $header-logo-height
		background-color: $header-color


.header__logo
	background-color: $header-color
	box-sizing: content-box
	position: relative
	left: -$column-gutter-width
	margin: 0
	padding: $header-logo-padding
	padding-left: $page-margin-side * 2
	overflow: hidden
	// This height should match the SVG logo height so that
	// extra background in $header-color is not displayed.
	height: $header-logo-height

	@media(max-width: $medium-large-screen)
		height: $header-logo-height-medium-large
		padding: 30px

	@media(max-width: $small-screen)
		height: $header-logo-height-mobile
		padding-top: 0
		padding-bottom: 0
		left: 0
		padding-left: 1rem
		padding-right: 0

	@media(max-width: $extra-small-screen)
		// gives logo the width it needs
		padding-left: 0.4rem

	&::after
		content: ''
		display: block
		width: 200%
		padding-bottom: 200%
		height: 0
		background-color: #fff
		position: absolute
		top: 0
		left: 0
		// I donno why this number
		transform: rotateZ(45deg) translate3d(0, 65px, 0)
		transform-origin: 0 0
		transition: 0.25s linear transform
		z-index: 0

		@media(max-width: $medium-large-screen)
			// I don't understand quite why these numbers work
			top: 25px
			left: -25px

	&:hover
		.header__logo-svg path
			fill: $header-color

		&::after
			transform: rotateZ(45deg) translate3d(0, -260px, 0)

.header__logo-svg
	position: relative
	z-index: 1

.header__logo-svg path
	fill: #fff
	transition: 0.25s linear fill

.header__nav
	font-family: $sans-serif
	display: flex
	flex-direction: column
	justify-content: space-between
	align-items: flex-end
	height: $header-height

	@media(max-width: $medium-large-screen)
		height: $header-height-medium-large

	@media(max-width: $small-screen)
		height: $header-logo-height-mobile

.header__nav-list
	list-style-type: none
	display: inline-block
	margin: 0
	margin-bottom: $nav-link-padding
	padding: 0
	display: flex
	justify-content: flex-end

.header__nav-item
	font-size: 1.1em

.header__nav-link
	+uppercase
	display: block
	// 1px to adjust the text baseline to be better centered
	padding: #{$nav-link-padding + 1px} 0 #{$nav-link-padding - 1px} 0
	margin: 0 $nav-link-padding
	text-decoration: none
	color: $gray-mid-dark-text
	transition: 0.15s linear all
	position: relative
	font-size: 0.9em
	border-bottom: 1px solid transparent

	&:hover
		color: $gray-dark
		border-bottom: 1px solid $gray-dark

	@media(max-width: $medium-large-screen)
		margin-bottom: 2*$nav-link-padding

.header__nav-link--highlighted
	padding-left: #{$nav-link-padding * 2}
	padding-right: #{$nav-link-padding * 2}
	margin: 0
	background-color: $gray-mid-dark
	transition: 0.15s linear all
	color: $white
	border-bottom: 1px solid transparent

	&:hover
		color: $white
		background-color: $gray-dark
		border-bottom: 1px solid transparent

@media(max-width: $small-screen)
	.header__nav-list--mobile-hidden
		display: none
