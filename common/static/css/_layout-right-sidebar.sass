$small-screen-side-padding: 13px
$sidebar-margin: 0.8em

.layout-right-sidebar
	display: flex
	flex-direction: row

	@media(max-width: $small-screen)
		flex-direction: column


.layout-right-sidebar__main
	// If a sidebar width is set then flex-grow: 1 on here ensures the
	// main element populates the remaining horizontal space.
	flex-grow: 1
	padding-left: $column-gutter-width
	max-width: 1440px - $column-gutter-width

	@media(max-width: $small-screen)
		padding: $small-screen-side-padding


.layout-right-sidebar__sidebar
	// flex-shrink ensures the width is 25%
	flex-shrink: 0
	width: $sidebar-width
	min-width: $sidebar-min-width
	margin-left: $column-gutter-width
	padding: 0 0.75em 1em 0

	@media(max-width: $small-screen)
		margin-top: 20px
		margin-left: 0
		width: auto
		margin-bottom: 15px
		padding: $layout-top-padding $small-screen-side-padding


// MODIFIER
.layout-right-sidebar__main--padded
	padding-top: $layout-top-padding

.layout-right-sidebar__main--header
	@media(max-width: $small-screen)
		padding: 0


.layout-right-sidebar__sidebar--light
	background-color: $fpf-sidebar
	padding-left: $column-gutter-width

.layout-right-sidebar__main--dark
	background-color: $dark-layout-color
	min-height: $category-page-header-min-height

.layout-right-sidebar__sidebar--dark
	background-color: $dark-layout-sidebar
	margin-left: 0
	min-height: $category-page-header-min-height
	padding-left: $column-gutter-width

	@media(max-width: $small-screen)
		margin-top: 0
		min-height: 0


.layout-right-sidebar__sidebar--padded
	padding: $layout-top-padding $column-gutter-width

.layout-right-sidebar__sidebar--hide-mobile
	@media(max-width: $small-screen)
		display: none
		margin: 0
		padding: 0


@each $name, $color in $border-colors
	.layout-right-sidebar__main--#{$name}
		border-top: 20px solid $color

	.layout-right-sidebar__sidebar--#{$name}
		border-top: 20px solid $color

		@media(max-width: $small-screen)
			border-top: 0
