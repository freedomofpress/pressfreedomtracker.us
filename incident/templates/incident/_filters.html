<span id="js-tag-filters-target"></span>
<script type="text/javascript">
	;(function() {
		function handleLoad() {
			window.ReactDOM.render(
				window.React.createElement(
					window.IncidentFiltering,
					{ availableCategories: {{ category_options|safe }}
					, filterChoices: {{ filter_choices|safe }}
					{% if apply_externally and external %}
					, applyExternally: true
					, external: '{{ external.url }}'
					{% else %}
					, applyExternally: false
					{% endif %}
					{% if no_category_filtering and category %}
					, noCategoryFiltering: true
					, category: {{ category }}
					{% else %}
					, noCategoryFiltering: false
					{% endif %}
					{% if change_filters_message %}
					, changeFiltersMessage: '{{ change_filters_message }}'
					{% endif %}
					}
				),

				document.getElementById('js-tag-filters-target')
			);

		}

		document.addEventListener('DOMContentLoaded', handleLoad);
	})();
</script>
